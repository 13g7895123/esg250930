<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>風險評估管理系統 - API 文檔</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            border: none;
            background: none;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-tab:hover {
            background: #f0f0f0;
        }

        .nav-tab.active {
            background: #667eea;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .api-group {
            background: white;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .api-group-header {
            background: #f8f9fa;
            padding: 1.5rem;
            border-bottom: 1px solid #e9ecef;
        }

        .api-group-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
        }

        .api-group-desc {
            color: #6c757d;
        }

        .api-endpoint {
            border-bottom: 1px solid #e9ecef;
            padding: 1.5rem;
        }

        .api-endpoint:last-child {
            border-bottom: none;
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            cursor: pointer;
        }

        .method {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            margin-right: 1rem;
            min-width: 60px;
            text-align: center;
        }

        .method.GET { background: #d4edda; color: #155724; }
        .method.POST { background: #d1ecf1; color: #0c5460; }
        .method.PUT { background: #fff3cd; color: #856404; }
        .method.DELETE { background: #f8d7da; color: #721c24; }
        .method.PATCH { background: #e2e3e5; color: #383d41; }

        .endpoint-path {
            font-family: 'Courier New', monospace;
            font-weight: 600;
            font-size: 1.1rem;
            flex: 1;
        }

        .expand-icon {
            transition: transform 0.3s ease;
        }

        .expand-icon.expanded {
            transform: rotate(180deg);
        }

        .endpoint-details {
            display: none;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
        }

        .endpoint-details.show {
            display: block;
        }

        .detail-section {
            margin-bottom: 1.5rem;
        }

        .detail-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #495057;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }

        .param-table th,
        .param-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .param-table th {
            background: #f8f9fa;
            font-weight: 600;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .test-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .test-form {
            display: grid;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 0.75rem;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
        }

        .response-section {
            margin-top: 1rem;
        }

        .response-header {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .status-code {
            padding: 0.25rem 0.5rem;
            border-radius: 3px;
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: 1rem;
        }

        .status-200 { background: #d4edda; color: #155724; }
        .status-400 { background: #fff3cd; color: #856404; }
        .status-404 { background: #f8d7da; color: #721c24; }
        .status-500 { background: #f8d7da; color: #721c24; }

        .loading {
            display: none;
            text-align: center;
            padding: 1rem;
            color: #6c757d;
        }

        .search-box {
            width: 100%;
            padding: 1rem;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 1rem;
            background: white;
        }

        .highlight {
            background: yellow;
        }

        @media (max-width: 768px) {
            .nav-tabs {
                flex-direction: column;
            }

            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .method {
                margin-bottom: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>風險評估管理系統</h1>
            <p>API 文檔與測試工具</p>
        </div>

        <input type="text" class="search-box" placeholder="搜尋 API 端點..." id="searchBox">

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('risk-assessment')">風險評估</button>
            <button class="nav-tab" onclick="showTab('question-management')">題項管理</button>
            <button class="nav-tab" onclick="showTab('personnel')">人員管理</button>
            <button class="nav-tab" onclick="showTab('companies')">公司管理</button>
            <button class="nav-tab" onclick="showTab('admin')">管理功能</button>
        </div>

        <!-- 風險評估 API -->
        <div id="risk-assessment" class="tab-content active">
            <!-- 範本管理 -->
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">範本管理 API</div>
                    <div class="api-group-desc">風險評估範本的增刪改查操作</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/risk-assessment/templates 取得範本列表">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/templates</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得所有風險評估範本列表，包含範本基本資訊和統計數據</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">查詢參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>search</td><td>string</td><td>否</td><td>搜尋範本名稱</td></tr>
                                <tr><td>page</td><td>integer</td><td>否</td><td>頁數 (預設: 1)</td></tr>
                                <tr><td>limit</td><td>integer</td><td>否</td><td>每頁筆數 (預設: 10)</td></tr>
                            </table>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">回應範例</div>
                            <div class="code-block">{
  "success": true,
  "data": {
    "templates": [
      {
        "id": 1,
        "version_name": "2024年度風險評估範本",
        "description": "年度標準風險評估範本",
        "status": "active",
        "content_count": 25,
        "category_count": 5,
        "created_at": "2024-01-01 00:00:00"
      }
    ],
    "pagination": {
      "total": 1,
      "page": 1,
      "limit": 10
    }
  }
}</div>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/v1/risk-assessment/templates')">
                                <div class="form-group">
                                    <label>搜尋關鍵字</label>
                                    <input type="text" name="search" placeholder="輸入範本名稱...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="POST /api/v1/risk-assessment/templates 建立範本">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method POST">POST</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/templates</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>建立新的風險評估範本</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">請求參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>version_name</td><td>string</td><td>是</td><td>範本名稱</td></tr>
                                <tr><td>description</td><td>string</td><td>否</td><td>範本描述</td></tr>
                                <tr><td>assessment_year</td><td>integer</td><td>否</td><td>評估年度</td></tr>
                            </table>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'POST', '/api/v1/risk-assessment/templates')">
                                <div class="form-group">
                                    <label>範本名稱 *</label>
                                    <input type="text" name="version_name" required placeholder="輸入範本名稱...">
                                </div>
                                <div class="form-group">
                                    <label>範本描述</label>
                                    <textarea name="description" placeholder="輸入範本描述..."></textarea>
                                </div>
                                <div class="form-group">
                                    <label>評估年度</label>
                                    <input type="number" name="assessment_year" value="2024">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="POST /api/v1/risk-assessment/templates/{id}/copy 複製範本">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method POST">POST</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/templates/{id}/copy</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>複製現有範本建立新版本</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">路徑參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>id</td><td>integer</td><td>是</td><td>要複製的範本 ID</td></tr>
                            </table>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">請求參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>version_name</td><td>string</td><td>是</td><td>新範本名稱</td></tr>
                                <tr><td>description</td><td>string</td><td>否</td><td>新範本描述</td></tr>
                            </table>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPICopy(event)">
                                <div class="form-group">
                                    <label>要複製的範本 ID *</label>
                                    <input type="number" name="template_id" required placeholder="輸入範本 ID...">
                                </div>
                                <div class="form-group">
                                    <label>新範本名稱 *</label>
                                    <input type="text" name="version_name" required placeholder="輸入新範本名稱...">
                                </div>
                                <div class="form-group">
                                    <label>新範本描述</label>
                                    <textarea name="description" placeholder="輸入新範本描述..."></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 範本分類管理 -->
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">範本分類管理 API</div>
                    <div class="api-group-desc">風險評估範本分類的管理操作</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/risk-assessment/templates/{id}/categories 取得分類列表">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/templates/{id}/categories</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得指定範本的風險分類列表</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">路徑參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>id</td><td>integer</td><td>是</td><td>範本 ID</td></tr>
                            </table>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPITemplate(event, 'GET', 'categories')">
                                <div class="form-group">
                                    <label>範本 ID *</label>
                                    <input type="number" name="template_id" required placeholder="輸入範本 ID...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="POST /api/v1/risk-assessment/templates/{id}/categories 建立分類">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method POST">POST</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/templates/{id}/categories</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>為指定範本建立新的風險分類</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">請求參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>category_name</td><td>string</td><td>是</td><td>分類名稱</td></tr>
                                <tr><td>category_code</td><td>string</td><td>否</td><td>分類代碼</td></tr>
                                <tr><td>description</td><td>string</td><td>否</td><td>分類描述</td></tr>
                                <tr><td>sort_order</td><td>integer</td><td>否</td><td>排序順序</td></tr>
                            </table>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPITemplate(event, 'POST', 'categories')">
                                <div class="form-group">
                                    <label>範本 ID *</label>
                                    <input type="number" name="template_id" required placeholder="輸入範本 ID...">
                                </div>
                                <div class="form-group">
                                    <label>分類名稱 *</label>
                                    <input type="text" name="category_name" required placeholder="輸入分類名稱...">
                                </div>
                                <div class="form-group">
                                    <label>分類代碼</label>
                                    <input type="text" name="category_code" placeholder="輸入分類代碼...">
                                </div>
                                <div class="form-group">
                                    <label>分類描述</label>
                                    <textarea name="description" placeholder="輸入分類描述..."></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 評估內容管理 -->
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">評估內容管理 API</div>
                    <div class="api-group-desc">範本評估內容項目的管理操作</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/risk-assessment/templates/{id}/contents 取得評估內容">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/templates/{id}/contents</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得指定範本的評估內容項目列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPITemplate(event, 'GET', 'contents')">
                                <div class="form-group">
                                    <label>範本 ID *</label>
                                    <input type="number" name="template_id" required placeholder="輸入範本 ID...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="POST /api/v1/risk-assessment/templates/{id}/contents 建立評估內容">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method POST">POST</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/templates/{id}/contents</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>為指定範本建立新的評估內容項目</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">請求參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>topic</td><td>string</td><td>是</td><td>評估主題</td></tr>
                                <tr><td>category_id</td><td>integer</td><td>否</td><td>所屬分類 ID</td></tr>
                                <tr><td>description</td><td>string</td><td>否</td><td>項目描述</td></tr>
                                <tr><td>scoring_method</td><td>string</td><td>否</td><td>評分方式 (binary, scale_1_5, scale_1_10, percentage)</td></tr>
                                <tr><td>weight</td><td>decimal</td><td>否</td><td>權重</td></tr>
                            </table>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPITemplate(event, 'POST', 'contents')">
                                <div class="form-group">
                                    <label>範本 ID *</label>
                                    <input type="number" name="template_id" required placeholder="輸入範本 ID...">
                                </div>
                                <div class="form-group">
                                    <label>評估主題 *</label>
                                    <input type="text" name="topic" required placeholder="輸入評估主題...">
                                </div>
                                <div class="form-group">
                                    <label>分類 ID</label>
                                    <input type="number" name="category_id" placeholder="輸入分類 ID...">
                                </div>
                                <div class="form-group">
                                    <label>評分方式</label>
                                    <select name="scoring_method">
                                        <option value="scale_1_5">1-5 分量表</option>
                                        <option value="scale_1_10">1-10 分量表</option>
                                        <option value="binary">是/否</option>
                                        <option value="percentage">百分比</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 公司評估管理 -->
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">公司評估管理 API</div>
                    <div class="api-group-desc">公司風險評估記錄的管理操作</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/risk-assessment/company-assessments 取得評估列表">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/company-assessments</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得所有公司評估記錄列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/v1/risk-assessment/company-assessments')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/risk-assessment/company-assessments/company/{companyId} 取得公司評估">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/company-assessments/company/{companyId}</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得指定公司的評估記錄</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPICompany(event)">
                                <div class="form-group">
                                    <label>公司 ID *</label>
                                    <input type="text" name="company_id" required placeholder="輸入公司 ID...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 題項管理 API -->
        <div id="question-management" class="tab-content">
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">題項管理 API</div>
                    <div class="api-group-desc">獨立的題項管理系統，用於評估問題的組織和管理</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/question-management/assessment/{id}/structure 取得評估結構">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/question-management/assessment/{id}/structure</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得指定評估的完整結構，包含分類、主題、因子等</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPIAssessment(event, 'structure')">
                                <div class="form-group">
                                    <label>評估 ID *</label>
                                    <input type="number" name="assessment_id" required placeholder="輸入評估 ID...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/question-management/assessment/{id}/categories 取得評估分類">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/question-management/assessment/{id}/categories</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得指定評估的分類列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPIAssessment(event, 'categories')">
                                <div class="form-group">
                                    <label>評估 ID *</label>
                                    <input type="number" name="assessment_id" required placeholder="輸入評估 ID...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/question-management/assessment/{id}/responses 取得評估回答">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/question-management/assessment/{id}/responses</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得指定評估的回答記錄</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPIAssessment(event, 'responses')">
                                <div class="form-group">
                                    <label>評估 ID *</label>
                                    <input type="number" name="assessment_id" required placeholder="輸入評估 ID...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 人員管理 API -->
        <div id="personnel" class="tab-content">
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">人員管理 API</div>
                    <div class="api-group-desc">公司人員信息管理和指派操作</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/personnel/companies 取得公司列表">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/personnel/companies</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得所有公司基本資訊列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/v1/personnel/companies')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/personnel/companies/{id}/personnel 取得公司人員">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/personnel/companies/{id}/personnel</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得指定公司的人員列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPIPersonnel(event, 'personnel')">
                                <div class="form-group">
                                    <label>公司 ID *</label>
                                    <input type="number" name="company_id" required placeholder="輸入公司 ID...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="POST /api/v1/personnel/assignments 建立人員指派">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method POST">POST</span>
                        <span class="endpoint-path">/api/v1/personnel/assignments</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>建立新的人員指派記錄</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">請求參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>company_id</td><td>integer</td><td>是</td><td>公司 ID</td></tr>
                                <tr><td>assessment_id</td><td>integer</td><td>是</td><td>評估 ID</td></tr>
                                <tr><td>personnel_id</td><td>integer</td><td>是</td><td>人員 ID</td></tr>
                                <tr><td>role</td><td>string</td><td>否</td><td>角色</td></tr>
                            </table>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'POST', '/api/v1/personnel/assignments')">
                                <div class="form-group">
                                    <label>公司 ID *</label>
                                    <input type="number" name="company_id" required placeholder="輸入公司 ID...">
                                </div>
                                <div class="form-group">
                                    <label>評估 ID *</label>
                                    <input type="number" name="assessment_id" required placeholder="輸入評估 ID...">
                                </div>
                                <div class="form-group">
                                    <label>人員 ID *</label>
                                    <input type="number" name="personnel_id" required placeholder="輸入人員 ID...">
                                </div>
                                <div class="form-group">
                                    <label>角色</label>
                                    <input type="text" name="role" placeholder="輸入角色...">
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 公司管理 API -->
        <div id="companies" class="tab-content">
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">公司管理 API</div>
                    <div class="api-group-desc">公司基本資料的增刪改查操作</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/companies 取得公司列表">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/companies</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得所有公司列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/companies')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/risk-assessment/local-companies 取得本地公司">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/local-companies</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得本地公司資料列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/v1/risk-assessment/local-companies')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/v1/risk-assessment/local-companies/stats 公司統計資料">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/v1/risk-assessment/local-companies/stats</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得公司統計資料</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/v1/risk-assessment/local-companies/stats')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 管理功能 API -->
        <div id="admin" class="tab-content">
            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">檔案上傳 API</div>
                    <div class="api-group-desc">範本檔案上傳和處理功能</div>
                </div>

                <div class="api-endpoint" data-search="POST /admin/api/template/upload_file 上傳檔案">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method POST">POST</span>
                        <span class="endpoint-path">/admin/api/template/upload_file</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>上傳範本檔案進行處理</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">請求格式</div>
                            <p>Content-Type: multipart/form-data</p>
                        </div>
                        <div class="detail-section">
                            <div class="detail-title">請求參數</div>
                            <table class="param-table">
                                <tr><th>參數名稱</th><th>類型</th><th>必填</th><th>說明</th></tr>
                                <tr><td>file</td><td>file</td><td>是</td><td>要上傳的檔案</td></tr>
                            </table>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testFileUpload(event)">
                                <div class="form-group">
                                    <label>選擇檔案 *</label>
                                    <input type="file" name="file" required>
                                </div>
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="api-group">
                <div class="api-group-header">
                    <div class="api-group-title">NAS 整合 API</div>
                    <div class="api-group-desc">網路附加儲存系統整合功能</div>
                </div>

                <div class="api-endpoint" data-search="GET /api/nas/test NAS 連線測試">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/nas/test</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>測試 NAS 系統連線狀態</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/nas/test')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/nas/folders 取得資料夾列表">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/nas/folders</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得 NAS 上的資料夾列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/nas/folders')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint" data-search="GET /api/nas/files 取得檔案列表">
                    <div class="endpoint-header" onclick="toggleDetails(this)">
                        <span class="method GET">GET</span>
                        <span class="endpoint-path">/api/nas/files</span>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="endpoint-details">
                        <div class="detail-section">
                            <div class="detail-title">描述</div>
                            <p>取得 NAS 上的檔案列表</p>
                        </div>
                        <div class="test-section">
                            <div class="detail-title">測試 API</div>
                            <form class="test-form" onsubmit="testAPI(event, 'GET', '/api/nas/files')">
                                <button type="submit" class="btn btn-primary">測試</button>
                            </form>
                            <div class="response-section" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        const BASE_URL = window.location.origin;

        // Tab functionality
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active class from all nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to selected nav tab
            event.target.classList.add('active');
        }

        // Toggle endpoint details
        function toggleDetails(header) {
            const details = header.nextElementSibling;
            const icon = header.querySelector('.expand-icon');

            if (details.classList.contains('show')) {
                details.classList.remove('show');
                icon.classList.remove('expanded');
            } else {
                details.classList.add('show');
                icon.classList.add('expanded');
            }
        }

        // Search functionality
        document.getElementById('searchBox').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const endpoints = document.querySelectorAll('.api-endpoint');

            endpoints.forEach(endpoint => {
                const searchData = endpoint.getAttribute('data-search').toLowerCase();
                if (searchData.includes(searchTerm)) {
                    endpoint.style.display = 'block';
                    // Highlight matching text
                    highlightText(endpoint, searchTerm);
                } else {
                    endpoint.style.display = 'none';
                }
            });
        });

        function highlightText(element, searchTerm) {
            // Remove existing highlights
            element.querySelectorAll('.highlight').forEach(span => {
                span.outerHTML = span.innerHTML;
            });

            if (searchTerm) {
                const walker = document.createTreeWalker(
                    element,
                    NodeFilter.SHOW_TEXT,
                    null,
                    false
                );

                const textNodes = [];
                let node;
                while (node = walker.nextNode()) {
                    textNodes.push(node);
                }

                textNodes.forEach(textNode => {
                    const parent = textNode.parentNode;
                    if (parent.tagName !== 'SCRIPT' && parent.tagName !== 'STYLE') {
                        const text = textNode.textContent;
                        const regex = new RegExp(`(${searchTerm})`, 'gi');
                        if (regex.test(text)) {
                            const highlightedHTML = text.replace(regex, '<span class="highlight">$1</span>');
                            const wrapper = document.createElement('span');
                            wrapper.innerHTML = highlightedHTML;
                            parent.replaceChild(wrapper, textNode);
                        }
                    }
                });
            }
        }

        // Generic API test function
        async function testAPI(event, method, url) {
            event.preventDefault();

            const form = event.target;
            const responseSection = form.nextElementSibling;
            const loading = createLoadingElement();

            // Show loading
            responseSection.innerHTML = '';
            responseSection.appendChild(loading);
            responseSection.style.display = 'block';

            try {
                const formData = new FormData(form);
                const params = {};

                for (let [key, value] of formData.entries()) {
                    if (value.trim() !== '') {
                        params[key] = value;
                    }
                }

                let fetchUrl = BASE_URL + url;
                let options = {
                    method: method,
                    headers: {
                        'Accept': 'application/json',
                    }
                };

                if (method === 'GET') {
                    const urlParams = new URLSearchParams(params);
                    if (urlParams.toString()) {
                        fetchUrl += '?' + urlParams.toString();
                    }
                } else {
                    options.headers['Content-Type'] = 'application/json';
                    options.body = JSON.stringify(params);
                }

                const response = await fetch(fetchUrl, options);
                const data = await response.text();

                let jsonData;
                try {
                    jsonData = JSON.parse(data);
                } catch (e) {
                    jsonData = data;
                }

                displayResponse(responseSection, response.status, jsonData);

            } catch (error) {
                displayResponse(responseSection, 'ERROR', { error: error.message });
            }
        }

        // Template-specific API test function
        async function testAPITemplate(event, method, endpoint) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const templateId = formData.get('template_id');

            if (!templateId) {
                alert('請輸入範本 ID');
                return;
            }

            const url = `/api/v1/risk-assessment/templates/${templateId}/${endpoint}`;

            // Remove template_id from form data for request body
            formData.delete('template_id');

            const responseSection = form.nextElementSibling;
            const loading = createLoadingElement();

            responseSection.innerHTML = '';
            responseSection.appendChild(loading);
            responseSection.style.display = 'block';

            try {
                const params = {};
                for (let [key, value] of formData.entries()) {
                    if (value.trim() !== '') {
                        params[key] = value;
                    }
                }

                let fetchUrl = BASE_URL + url;
                let options = {
                    method: method,
                    headers: {
                        'Accept': 'application/json',
                    }
                };

                if (method === 'GET') {
                    const urlParams = new URLSearchParams(params);
                    if (urlParams.toString()) {
                        fetchUrl += '?' + urlParams.toString();
                    }
                } else {
                    options.headers['Content-Type'] = 'application/json';
                    options.body = JSON.stringify(params);
                }

                const response = await fetch(fetchUrl, options);
                const data = await response.text();

                let jsonData;
                try {
                    jsonData = JSON.parse(data);
                } catch (e) {
                    jsonData = data;
                }

                displayResponse(responseSection, response.status, jsonData);

            } catch (error) {
                displayResponse(responseSection, 'ERROR', { error: error.message });
            }
        }

        // Template copy test function
        async function testAPICopy(event) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const templateId = formData.get('template_id');

            if (!templateId) {
                alert('請輸入範本 ID');
                return;
            }

            const url = `/api/v1/risk-assessment/templates/${templateId}/copy`;

            formData.delete('template_id');

            const responseSection = form.nextElementSibling;
            const loading = createLoadingElement();

            responseSection.innerHTML = '';
            responseSection.appendChild(loading);
            responseSection.style.display = 'block';

            try {
                const params = {};
                for (let [key, value] of formData.entries()) {
                    if (value.trim() !== '') {
                        params[key] = value;
                    }
                }

                const options = {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json',
                    },
                    body: JSON.stringify(params)
                };

                const response = await fetch(BASE_URL + url, options);
                const data = await response.text();

                let jsonData;
                try {
                    jsonData = JSON.parse(data);
                } catch (e) {
                    jsonData = data;
                }

                displayResponse(responseSection, response.status, jsonData);

            } catch (error) {
                displayResponse(responseSection, 'ERROR', { error: error.message });
            }
        }

        // Company assessment test function
        async function testAPICompany(event) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const companyId = formData.get('company_id');

            if (!companyId) {
                alert('請輸入公司 ID');
                return;
            }

            const url = `/api/v1/risk-assessment/company-assessments/company/${encodeURIComponent(companyId)}`;

            const responseSection = form.nextElementSibling;
            const loading = createLoadingElement();

            responseSection.innerHTML = '';
            responseSection.appendChild(loading);
            responseSection.style.display = 'block';

            try {
                const response = await fetch(BASE_URL + url, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                    }
                });

                const data = await response.text();

                let jsonData;
                try {
                    jsonData = JSON.parse(data);
                } catch (e) {
                    jsonData = data;
                }

                displayResponse(responseSection, response.status, jsonData);

            } catch (error) {
                displayResponse(responseSection, 'ERROR', { error: error.message });
            }
        }

        // Assessment-specific API test function
        async function testAPIAssessment(event, endpoint) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const assessmentId = formData.get('assessment_id');

            if (!assessmentId) {
                alert('請輸入評估 ID');
                return;
            }

            const url = `/api/v1/question-management/assessment/${assessmentId}/${endpoint}`;

            const responseSection = form.nextElementSibling;
            const loading = createLoadingElement();

            responseSection.innerHTML = '';
            responseSection.appendChild(loading);
            responseSection.style.display = 'block';

            try {
                const response = await fetch(BASE_URL + url, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                    }
                });

                const data = await response.text();

                let jsonData;
                try {
                    jsonData = JSON.parse(data);
                } catch (e) {
                    jsonData = data;
                }

                displayResponse(responseSection, response.status, jsonData);

            } catch (error) {
                displayResponse(responseSection, 'ERROR', { error: error.message });
            }
        }

        // Personnel-specific API test function
        async function testAPIPersonnel(event, endpoint) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const companyId = formData.get('company_id');

            if (!companyId) {
                alert('請輸入公司 ID');
                return;
            }

            const url = `/api/v1/personnel/companies/${companyId}/${endpoint}`;

            const responseSection = form.nextElementSibling;
            const loading = createLoadingElement();

            responseSection.innerHTML = '';
            responseSection.appendChild(loading);
            responseSection.style.display = 'block';

            try {
                const response = await fetch(BASE_URL + url, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                    }
                });

                const data = await response.text();

                let jsonData;
                try {
                    jsonData = JSON.parse(data);
                } catch (e) {
                    jsonData = data;
                }

                displayResponse(responseSection, response.status, jsonData);

            } catch (error) {
                displayResponse(responseSection, 'ERROR', { error: error.message });
            }
        }

        // File upload test function
        async function testFileUpload(event) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);

            if (!formData.get('file') || formData.get('file').size === 0) {
                alert('請選擇檔案');
                return;
            }

            const responseSection = form.nextElementSibling;
            const loading = createLoadingElement();

            responseSection.innerHTML = '';
            responseSection.appendChild(loading);
            responseSection.style.display = 'block';

            try {
                const response = await fetch(BASE_URL + '/admin/api/template/upload_file', {
                    method: 'POST',
                    body: formData
                });

                const data = await response.text();

                let jsonData;
                try {
                    jsonData = JSON.parse(data);
                } catch (e) {
                    jsonData = data;
                }

                displayResponse(responseSection, response.status, jsonData);

            } catch (error) {
                displayResponse(responseSection, 'ERROR', { error: error.message });
            }
        }

        // Create loading element
        function createLoadingElement() {
            const loading = document.createElement('div');
            loading.className = 'loading';
            loading.style.display = 'block';
            loading.innerHTML = '⏳ 測試中...';
            return loading;
        }

        // Display API response
        function displayResponse(responseSection, status, data) {
            responseSection.innerHTML = '';

            const responseHeader = document.createElement('div');
            responseHeader.className = 'response-header';

            const statusCode = document.createElement('span');
            statusCode.className = `status-code status-${status}`;
            statusCode.textContent = status;

            const statusText = document.createElement('span');
            statusText.textContent = getStatusText(status);

            responseHeader.appendChild(statusCode);
            responseHeader.appendChild(statusText);

            const responseBody = document.createElement('div');
            responseBody.className = 'code-block';
            responseBody.textContent = JSON.stringify(data, null, 2);

            responseSection.appendChild(responseHeader);
            responseSection.appendChild(responseBody);
        }

        // Get status text
        function getStatusText(status) {
            const statusTexts = {
                200: 'OK - 請求成功',
                201: 'Created - 資源建立成功',
                400: 'Bad Request - 請求格式錯誤',
                401: 'Unauthorized - 未授權',
                403: 'Forbidden - 禁止存取',
                404: 'Not Found - 資源不存在',
                422: 'Unprocessable Entity - 資料驗證失敗',
                500: 'Internal Server Error - 伺服器內部錯誤',
                'ERROR': 'Network Error - 網路連線錯誤'
            };
            return statusTexts[status] || '未知狀態';
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-focus search box
            document.getElementById('searchBox').focus();

            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Ctrl/Cmd + K to focus search
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    document.getElementById('searchBox').focus();
                }

                // Escape to clear search
                if (e.key === 'Escape') {
                    const searchBox = document.getElementById('searchBox');
                    if (searchBox === document.activeElement) {
                        searchBox.value = '';
                        searchBox.dispatchEvent(new Event('input'));
                    }
                }
            });
        });
    </script>
</body>
</html>