{"version":3,"file":"register-DviMnxdC.js","sources":["../../../../pages/auth/register.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"max-w-md w-full space-y-8\">\r\n      <!-- Logo & Title -->\r\n      <div class=\"text-center\">\r\n        <h2 class=\"mt-6 text-3xl font-bold text-gray-900 dark:text-white\">\r\n          {{ t('auth.register_title') }}\r\n        </h2>\r\n        <p class=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\r\n          {{ t('auth.register_subtitle') }}\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Register Form -->\r\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleRegister\">\r\n        <div class=\"space-y-4\">\r\n          <!-- Name -->\r\n          <div>\r\n            <label for=\"name\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {{ t('auth.full_name') }}\r\n            </label>\r\n            <input\r\n              id=\"name\"\r\n              v-model=\"form.name\"\r\n              type=\"text\"\r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white\"\r\n              :placeholder=\"t('auth.full_name_placeholder')\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Username -->\r\n          <div>\r\n            <label for=\"username\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {{ t('auth.username') }}\r\n            </label>\r\n            <input\r\n              id=\"username\"\r\n              v-model=\"form.username\"\r\n              type=\"text\"\r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white\"\r\n              :placeholder=\"t('auth.username_placeholder')\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Email -->\r\n          <div>\r\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {{ t('auth.email') }}\r\n            </label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"form.email\"\r\n              type=\"email\"\r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white\"\r\n              :placeholder=\"t('auth.email_placeholder')\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Password -->\r\n          <div>\r\n            <label for=\"password\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {{ t('auth.password') }}\r\n            </label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"form.password\"\r\n              type=\"password\"\r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white\"\r\n              :placeholder=\"t('auth.password_placeholder')\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Confirm Password -->\r\n          <div>\r\n            <label for=\"confirmPassword\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {{ t('auth.confirm_password') }}\r\n            </label>\r\n            <input\r\n              id=\"confirmPassword\"\r\n              v-model=\"form.confirmPassword\"\r\n              type=\"password\"\r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white\"\r\n              :placeholder=\"t('auth.confirm_password_placeholder')\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Error Message -->\r\n        <div v-if=\"error\" class=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\r\n          <p class=\"text-sm text-red-700 dark:text-red-400\">{{ error }}</p>\r\n        </div>\r\n\r\n        <!-- Submit Button -->\r\n        <button\r\n          type=\"submit\"\r\n          :disabled=\"loading\"\r\n          class=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\r\n        >\r\n          <span v-if=\"!loading\">{{ t('auth.register') }}</span>\r\n          <span v-else class=\"flex items-center\">\r\n            <svg class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n            {{ t('auth.registering') }}\r\n          </span>\r\n        </button>\r\n\r\n        <!-- Login Link -->\r\n        <div class=\"text-center\">\r\n          <p class=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            {{ t('auth.have_account') }}\r\n            <NuxtLink to=\"/auth/login\" class=\"font-medium text-primary-500 hover:text-primary-600 transition-colors duration-200\">\r\n              {{ t('auth.login') }}\r\n            </NuxtLink>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefinePageMeta({\r\n  layout: false,\r\n  middleware: 'guest'\r\n})\r\n\r\nconst { t } = useI18n()\r\nconst authStore = useAuthStore()\r\n\r\nconst form = ref({\r\n  name: '',\r\n  username: '',\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n})\r\n\r\nconst loading = ref(false)\r\nconst error = ref('')\r\n\r\nconst handleRegister = async () => {\r\n  try {\r\n    loading.value = true\r\n    error.value = ''\r\n    \r\n    // 驗證密碼匹配\r\n    if (form.value.password !== form.value.confirmPassword) {\r\n      error.value = t('auth.password_mismatch')\r\n      return\r\n    }\r\n    \r\n    // 密碼長度檢查\r\n    if (form.value.password.length < 6) {\r\n      error.value = t('auth.password_too_short')\r\n      return\r\n    }\r\n    \r\n    await authStore.register({\r\n      name: form.value.name,\r\n      username: form.value.username,\r\n      email: form.value.email,\r\n      password: form.value.password,\r\n      password_confirmation: form.value.confirmPassword\r\n    })\r\n    \r\n    // 重定向到首頁\r\n    await navigateTo('/')\r\n  } catch (err) {\r\n    error.value = err.message\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 如果已經登入，重定向到首頁\r\nonMounted(() => {\r\n  if (authStore.isLoggedIn) {\r\n    navigateTo('/')\r\n  }\r\n})\r\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderAttr","_push","_parent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqIA,UAAM,EAAE,EAAC,IAAK,QAAO;AACH,iBAAY;AAE9B,UAAM,OAAO,IAAI;AAAA,MACf,MAAM;AAAA,MACN,UAAU;AAAA,MACV,OAAO;AAAA,MACP,UAAU;AAAA,MACV,iBAAiB;AAAA,IACnB,CAAC;AAED,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,QAAQ,IAAI,EAAE;;;mBAhJbA,eAAAC,WAAA,EAAA,OAAM,uGAAsG,GAAA,MAAA,CAAA,sJAKtGC,MAAA,CAAA,EAAC,qBAAA,CAAA,iFAGDA,MAAA,CAAA,EAAC,wBAAA,CAAA,gLAUGA,MAAA,CAAA,EAAC,gBAAA,CAAA,4BAIKC,cAAA,SAAAD,MAAA,IAAA,EAAK,IAAI,4OAIjBC,cAAA,eAAaD,MAAA,CAAA,EAAC,4BAAA,CAAA,6HAOZA,MAAA,CAAA,EAAC,eAAA,CAAA,gCAIKC,cAAA,SAAAD,MAAA,IAAA,EAAK,QAAQ,4OAIrBC,cAAA,eAAaD,MAAA,CAAA,EAAC,2BAAA,CAAA,0HAOZA,MAAA,CAAA,EAAC,YAAA,CAAA,6BAIKC,cAAA,SAAAD,MAAA,IAAA,EAAK,KAAK,6OAIlBC,cAAA,eAAaD,MAAA,CAAA,EAAC,wBAAA,CAAA,6HAOZA,MAAA,CAAA,EAAC,eAAA,CAAA,gCAIKC,cAAA,SAAAD,MAAA,IAAA,EAAK,QAAQ,gPAIrBC,cAAA,eAAaD,MAAA,CAAA,EAAC,2BAAA,CAAA,oIAOZA,MAAA,CAAA,EAAC,uBAAA,CAAA,uCAIKC,cAAA,SAAAD,MAAA,IAAA,EAAK,eAAe,gPAI5BC,cAAA,eAAaD,MAAA,CAAA,EAAC,mCAAA,CAAA;UAMVA,MAAA,KAAA,GAAK;qLACuCA,MAAA,KAAA,CAAK,CAAA,YAAA;AAAA;;;0DAM/CA,MAAA,OAAA,CAAO,IAAA,cAAA,EAAA,4TAAA;WAGLA,MAAA,OAAA,GAAO;sCAAKA,MAAA,CAAA,EAAC,eAAA,CAAA,CAAA,SAAA;AAAA;4cAMrBA,MAAA,CAAA,EAAC,kBAAA,CAAA,CAAA,SAAA;AAAA;oHAODA,MAAA,CAAA,EAAC,mBAAA,CAAA,CAAA,GAAA;;QACM,IAAG;AAAA,QAAc,OAAM;AAAA;yBAAjC,CAEW,GAAAE,QAAAC,UAAA,aAAA;;qCADNH,MAAA,CAAA,EAAC,YAAA,CAAA,CAAA,EAAA;AAAA;;8CAADA,MAAA,CAAA,EAAC,YAAA,CAAA,GAAA,CAAA;AAAA;;;;;;;;;;;;;;;"}