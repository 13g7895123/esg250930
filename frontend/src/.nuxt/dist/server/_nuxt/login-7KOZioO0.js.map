{"version":3,"file":"login-7KOZioO0.js","sources":["../../../../pages/auth/login.vue"],"sourcesContent":["<template>\r\n  <!-- Modern gradient background with subtle pattern -->\r\n  <div class=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden\">\r\n    <!-- Subtle background pattern -->\r\n    <div class=\"absolute inset-0 opacity-5 dark:opacity-10\">\r\n      <div class=\"absolute inset-0\" style=\"background-image: radial-gradient(circle at 1px 1px, rgba(99, 102, 241, 0.15) 1px, transparent 0); background-size: 20px 20px;\"></div>\r\n    </div>\r\n    \r\n    <!-- Main login container -->\r\n    <div class=\"relative z-10 w-full max-w-md space-y-8\">\r\n      <!-- Brand logo and header card -->\r\n      <div class=\"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 dark:border-slate-700/50 p-8 text-center transform hover:scale-[1.02] transition-all duration-300\">\r\n        <!-- Logo placeholder - you can replace with actual logo -->\r\n        <div class=\"mx-auto w-16 h-16 bg-gradient-to-tr from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg\">\r\n          <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n        </div>\r\n        \r\n        <h1 class=\"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent\">\r\n          {{ t('auth.login_title') }}\r\n        </h1>\r\n        <p class=\"mt-2 text-sm text-gray-600 dark:text-gray-400 font-medium\">\r\n          {{ t('auth.login_subtitle') }}\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Login form card -->\r\n      <div class=\"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 dark:border-slate-700/50 p-8 transform hover:shadow-2xl transition-all duration-300\">\r\n        <form class=\"space-y-6\" @submit.prevent=\"handleLogin\">\r\n          <!-- Form fields -->\r\n          <div class=\"space-y-5\">\r\n            <!-- Username/Email with icon -->\r\n            <div class=\"group\">\r\n              <label for=\"username\" class=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3\">\r\n                {{ t('auth.username_email') }}\r\n              </label>\r\n              <div class=\"relative\">\r\n                <div class=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n                  <svg class=\"h-5 w-5 text-gray-400 group-focus-within:text-primary-500 transition-colors duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                  </svg>\r\n                </div>\r\n                <input\r\n                  id=\"username\"\r\n                  v-model=\"form.username\"\r\n                  type=\"text\"\r\n                  required\r\n                  class=\"w-full pl-12 pr-4 py-3.5 bg-gray-50 dark:bg-slate-700/50 border border-gray-200 dark:border-slate-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 backdrop-blur-sm\"\r\n                  :placeholder=\"t('auth.username_email_placeholder')\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Password with icon -->\r\n            <div class=\"group\">\r\n              <label for=\"password\" class=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3\">\r\n                {{ t('auth.password') }}\r\n              </label>\r\n              <div class=\"relative\">\r\n                <div class=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n                  <svg class=\"h-5 w-5 text-gray-400 group-focus-within:text-primary-500 transition-colors duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                  </svg>\r\n                </div>\r\n                <input\r\n                  id=\"password\"\r\n                  v-model=\"form.password\"\r\n                  type=\"password\"\r\n                  required\r\n                  class=\"w-full pl-12 pr-4 py-3.5 bg-gray-50 dark:bg-slate-700/50 border border-gray-200 dark:border-slate-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 backdrop-blur-sm\"\r\n                  :placeholder=\"t('auth.password_placeholder')\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Error Message with enhanced styling -->\r\n          <div v-if=\"error\" class=\"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl p-4 backdrop-blur-sm\">\r\n            <div class=\"flex items-center\">\r\n              <svg class=\"h-5 w-5 text-red-500 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <p class=\"text-sm text-red-700 dark:text-red-300 font-medium\">{{ error }}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Demo Accounts with enhanced styling -->\r\n          <div class=\"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-xl p-5 backdrop-blur-sm\">\r\n            <div class=\"flex items-center mb-3\">\r\n              <svg class=\"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <h4 class=\"text-sm font-semibold text-blue-800 dark:text-blue-300\">{{ t('auth.demo_accounts') }}</h4>\r\n            </div>\r\n            <div class=\"space-y-2\">\r\n              <div class=\"flex items-center justify-between text-xs\">\r\n                <span class=\"font-medium text-blue-700 dark:text-blue-400\">{{ t('auth.admin_account') }}:</span>\r\n                <code class=\"bg-blue-100 dark:bg-blue-800 px-2 py-1 rounded text-blue-800 dark:text-blue-200\">admin / password</code>\r\n              </div>\r\n              <div class=\"flex items-center justify-between text-xs\">\r\n                <span class=\"font-medium text-blue-700 dark:text-blue-400\">{{ t('auth.email_login') }}:</span>\r\n                <code class=\"bg-blue-100 dark:bg-blue-800 px-2 py-1 rounded text-blue-800 dark:text-blue-200\">admin@example.com / password</code>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Enhanced Submit Button -->\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"loading\"\r\n            class=\"group relative w-full flex justify-center py-3.5 px-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] transition-all duration-200\"\r\n          >\r\n            <span v-if=\"!loading\" class=\"flex items-center\">\r\n              {{ t('auth.login') }}\r\n              <svg class=\"ml-2 h-4 w-4 transform group-hover:translate-x-1 transition-transform duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\r\n              </svg>\r\n            </span>\r\n            <span v-else class=\"flex items-center\">\r\n              <svg class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n              {{ t('auth.logging_in') }}\r\n            </span>\r\n          </button>\r\n\r\n          <!-- Register Link with enhanced styling -->\r\n          <div class=\"text-center pt-4 border-t border-gray-200 dark:border-slate-600\">\r\n            <p class=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              {{ t('auth.no_account') }}\r\n              <NuxtLink \r\n                to=\"/auth/register\" \r\n                class=\"font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200 underline-offset-4 hover:underline\"\r\n              >\r\n                {{ t('auth.register') }}\r\n              </NuxtLink>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <!-- Footer info -->\r\n      <div class=\"text-center\">\r\n        <p class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n          Professional Project Management for Freelancers\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefinePageMeta({\r\n  layout: false,\r\n  middleware: 'guest'\r\n})\r\n\r\nconst { t } = useI18n()\r\nconst authStore = useAuthStore()\r\n\r\nconst form = ref({\r\n  username: '',\r\n  password: ''\r\n})\r\n\r\nconst loading = ref(false)\r\nconst error = ref('')\r\n\r\nconst handleLogin = async () => {\r\n  try {\r\n    loading.value = true\r\n    error.value = ''\r\n    \r\n    // Validate form data\r\n    if (!form.value.username || !form.value.password) {\r\n      throw new Error('請輸入用戶名和密碼')\r\n    }\r\n    \r\n    // Attempt login\r\n    await authStore.login(form.value)\r\n    \r\n    // 重定向到首頁\r\n    await navigateTo('/dashboard/analytics')\r\n  } catch (err) {\r\n    error.value = err.message || '登入失敗，請檢查您的登入資訊'\r\n    console.error('Login error:', err)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 初始化認證狀態並檢查是否已登入\r\nonMounted(async () => {\r\n  await authStore.initializeAuth()\r\n  \r\n  if (authStore.isLoggedIn) {\r\n    await navigateTo('/dashboard/analytics')\r\n  }\r\n})\r\n</script>"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderAttr","_push","_parent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA+JA,UAAM,EAAE,EAAC,IAAK,QAAO;AACH,iBAAY;AAE9B,UAAM,OAAO,IAAI;AAAA,MACf,UAAU;AAAA,MACV,UAAU;AAAA,IACZ,CAAC;AAED,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,QAAQ,IAAI,EAAE;;;mBAtKbA,eAAAC,WAAA,EAAA,OAAM,uNAAsN,GAAA,MAAA,CAAA,iHAG/L,EAAA,oBAAA,mFAAA,mBAAA,YAAA,CAAsI,2xBAe7JC,MAAA,CAAA,EAAC,kBAAA,CAAA,6FAGDA,MAAA,CAAA,EAAC,qBAAA,CAAA,+XAYKA,MAAA,CAAA,EAAC,qBAAA,CAAA,qcAUOC,cAAA,SAAAD,MAAA,IAAA,EAAK,QAAQ,4VAIrBC,cAAA,eAAaD,MAAA,CAAA,EAAC,iCAAA,CAAA,mJAQdA,MAAA,CAAA,EAAC,eAAA,CAAA,seAUOC,cAAA,SAAAD,MAAA,IAAA,EAAK,QAAQ,gWAIrBC,cAAA,eAAaD,MAAA,CAAA,EAAC,2BAAA,CAAA;UAOZA,MAAA,KAAA,GAAK;qeAKqDA,MAAA,KAAA,CAAK,CAAA,kBAAA;AAAA;;;+fAUAA,MAAA,CAAA,EAAC,oBAAA,CAAA,uKAIPA,MAAA,CAAA,EAAC,oBAAA,CAAA,wQAIDA,MAAA,CAAA,EAAC,kBAAA,CAAA,0MASxDA,MAAA,OAAA,CAAO,IAAA,cAAA;WAGLA,MAAA,OAAA,GAAO;gEACfA,MAAA,CAAA,EAAC,YAAA,CAAA,CAAA,gRAAA;AAAA;4cAUDA,MAAA,CAAA,EAAC,iBAAA,CAAA,CAAA,SAAA;AAAA;wKAODA,MAAA,CAAA,EAAC,iBAAA,CAAA,CAAA,GAAA;;QAEF,IAAG;AAAA,QACH,OAAM;AAAA;yBAFR,CAKW,GAAAE,QAAAC,UAAA,aAAA;;qCADNH,MAAA,CAAA,EAAC,eAAA,CAAA,CAAA,EAAA;AAAA;;8CAADA,MAAA,CAAA,EAAC,eAAA,CAAA,GAAA,CAAA;AAAA;;;;;;;;;;;;;;;"}