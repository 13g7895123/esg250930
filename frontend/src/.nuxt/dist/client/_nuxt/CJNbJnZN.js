import{V as n,n as s,W as o,G as i}from"./BxfpjSiT.js";const d=n(async u=>{let e,t;const a=s();if([e,t]=o(()=>a.initializeAuth()),await e,t(),!a.isLoggedIn)return console.log("[Auth Middleware] User not authenticated, redirecting to login"),i("/auth/login");try{[e,t]=o(()=>a.fetchUser()),await e,t()}catch(r){return console.warn("[Auth Middleware] Token validation failed:",r.message),i("/auth/login")}});export{d as default};
