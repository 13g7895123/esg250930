import{c as u,o as c,a as t,l as G,m as ae,n as le,s as ne,p as O,r as A,d as ie,w as de,q as ce,b as ue,f,t as a,u as e,v as z,x as g,y as k,z as T,A as w,B as _,g as F,C as pe,D as me,E as fe}from"./BxfpjSiT.js";import{r as ge}from"./D37AenBN.js";import{r as he}from"./B8rHME0O.js";function H(x,s){return c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})])}function W(x,s){return c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}const we=()=>{const{post:x,get:s,put:M}=G(),B=async d=>{const C={login:d.username||d.email,password:d.password};return await x("/auth/login",C)},E=async d=>await x("/auth/register",d),D=async()=>await x("/auth/logout"),p=async()=>await x("/auth/logout-all"),l=async()=>await s("/auth/me"),m=async d=>await M("/profile",d),n=async d=>await x("/auth/change-password",d),h=async()=>await x("/auth/refresh"),j=async d=>await x("/auth/forgot-password",{email:d}),$=async d=>await x("/auth/reset-password",d),q=async d=>await x("/auth/verify-email",{token:d}),P=async()=>{var d;try{const C=await l();return C.success&&((d=C.data)==null?void 0:d.user)}catch{return!1}};return{login:B,register:E,logout:D,logoutAll:p,getCurrentUser:l,checkAuth:P,validateToken:async()=>await P(),updateProfile:m,changePassword:n,refreshToken:h,requestPasswordReset:j,resetPassword:$,verifyEmail:q}},_e={class:"space-y-6"},xe={class:"text-2xl font-bold text-gray-900 dark:text-white"},be={class:"text-gray-600 dark:text-gray-300"},ye={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ve={class:"lg:col-span-1"},ke={class:"bg-white dark:bg-gray-800 rounded-lg-custom shadow-sm p-6"},Pe={class:"text-center mb-6"},Ce={class:"relative inline-block"},Ue=["src","alt"],Ae={for:"avatar-upload",class:"absolute bottom-0 right-0 bg-primary-600 hover:bg-primary-700 text-white rounded-full p-2 cursor-pointer shadow-lg transition-colors duration-200"},Ve={class:"text-lg font-semibold text-gray-900 dark:text-white"},je={class:"text-sm text-gray-500 dark:text-gray-400"},$e={class:"mt-2"},qe={class:"space-y-2 mb-6"},ze={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},De={class:"text-sm font-medium text-gray-900 dark:text-white mb-4"},Me={class:"space-y-3"},Be={class:"flex justify-between text-sm"},Ee={class:"text-gray-500 dark:text-gray-400"},Te={class:"text-gray-900 dark:text-white font-medium"},Le={class:"flex justify-between text-sm"},Re={class:"text-gray-500 dark:text-gray-400"},Ie={class:"text-gray-900 dark:text-white"},Se={class:"flex justify-between text-sm"},Ze={class:"text-gray-500 dark:text-gray-400"},Ne={class:"text-gray-900 dark:text-white"},Oe={class:"lg:col-span-2 space-y-6"},Fe={class:"bg-white dark:bg-gray-800 rounded-lg-custom shadow-sm"},He={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},We={class:"text-lg font-medium text-gray-900 dark:text-white"},Ge={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Je={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Ke=["placeholder"],Qe={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Xe={for:"username",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Ye=["placeholder"],et={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},tt={for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},st={class:"relative"},rt=["placeholder"],ot={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},at={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},lt={for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},nt=["placeholder"],it={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},dt={for:"company",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ct=["placeholder"],ut={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},pt={for:"position",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},mt=["placeholder"],ft={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},gt={for:"location",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ht=["placeholder"],wt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},_t={for:"website",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},xt=["placeholder"],bt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},yt={for:"bio",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},vt=["placeholder"],kt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Pt={class:"flex justify-end"},Ct=["disabled"],Ut={key:0},At={key:1},Vt={class:"bg-white dark:bg-gray-800 rounded-lg-custom shadow-sm"},jt={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},$t={class:"text-lg font-medium text-gray-900 dark:text-white"},qt={for:"current-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},zt=["placeholder"],Dt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Mt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Bt={for:"new-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Et=["placeholder"],Tt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Lt={for:"confirm-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Rt=["placeholder"],It={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},St={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},Zt={class:"text-sm text-blue-800 dark:text-blue-200"},Nt={class:"flex justify-end"},Ot=["disabled"],Ft={key:0},Ht={key:1},Wt={class:"bg-white dark:bg-gray-800 rounded-lg-custom shadow-sm border-2 border-red-200 dark:border-red-900"},Gt={class:"px-6 py-4 border-b border-red-200 dark:border-red-900"},Jt={class:"text-lg font-medium text-red-900 dark:text-red-200"},Kt={class:"p-6"},Qt={class:"flex items-start space-x-4"},Xt={class:"flex-shrink-0"},Yt={class:"flex-1"},es={class:"text-base font-medium text-gray-900 dark:text-white mb-2"},ts={class:"text-sm text-gray-600 dark:text-gray-300 mb-4"},ss={class:"flex items-center mb-4"},rs={class:"text-lg font-medium text-gray-900 dark:text-white"},os={class:"text-sm text-gray-600 dark:text-gray-300 mb-4"},as=["placeholder"],ls={class:"flex justify-end space-x-3"},ns=["disabled"],us={__name:"profile",setup(x){const{t:s}=ae(),{updateProfile:M,changePassword:B}=we(),{del:E}=G(),D=le(),{user:p}=ne(D),l=O({name:"",username:"",email:"",phone:"",bio:"",website:"",location:"",company:"",position:"",avatar:""}),m=O({currentPassword:"",newPassword:"",confirmPassword:""}),n=A({}),h=A({}),j=A(!1),$=A(!1),q=A(!1),P=A(!1),V=A(""),d=A(null),C=()=>{p.value&&Object.assign(l,{name:p.value.name||"",username:p.value.username||"",email:p.value.email||"",phone:p.value.phone||"",bio:p.value.bio||"",website:p.value.website||"",location:p.value.location||"",company:p.value.company||"",position:p.value.position||"",avatar:p.value.avatar||""})},J=()=>{var r,v,U;const o={};return(r=l.name)!=null&&r.trim()||(o.name=s("auth.full_name_placeholder")),(v=l.username)!=null&&v.trim()||(o.username=s("profile.username_placeholder")),(U=l.email)!=null&&U.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(o.email="Please enter a valid email address"):o.email=s("profile.email_placeholder"),l.website&&!/^https?:\/\/.+/.test(l.website)&&(o.website="Please enter a valid URL (starting with http:// or https://)"),n.value=o,Object.keys(o).length===0},K=()=>{var r,v;const o={};return(r=m.currentPassword)!=null&&r.trim()||(o.currentPassword=s("profile.current_password_placeholder")),(v=m.newPassword)!=null&&v.trim()?m.newPassword.length<8?o.newPassword=s("profile.password_requirements"):/(?=.*[a-zA-Z])(?=.*\d)/.test(m.newPassword)||(o.newPassword=s("profile.password_requirements")):o.newPassword=s("profile.new_password_placeholder"),m.newPassword!==m.confirmPassword&&(o.confirmPassword=s("profile.passwords_not_match")),h.value=o,Object.keys(o).length===0},Q=async()=>{if(J()){j.value=!0;try{const o=await M({name:l.name,username:l.username,email:l.email,phone:l.phone,bio:l.bio,website:l.website,location:l.location,company:l.company,position:l.position});if(o.success)b("個人資料更新成功","success");else throw new Error(o.message||"個人資料更新失敗")}catch(o){console.error("Profile update failed:",o),b(o.message||"個人資料更新失敗","error")}finally{j.value=!1}}},X=async()=>{if(K()){$.value=!0;try{const o=await B({current_password:m.currentPassword,password:m.newPassword,password_confirmation:m.confirmPassword});if(o.success)Object.assign(m,{currentPassword:"",newPassword:"",confirmPassword:""}),b("密碼修改成功","success");else throw new Error(o.message||"密碼修改失敗")}catch(o){console.error("Password change failed:",o),o.message.includes("Current password is incorrect")?h.value.currentPassword="目前密碼不正確":b(o.message||"密碼修改失敗","error")}finally{$.value=!1}}},Y=()=>{var o;(o=document.getElementById("avatar-upload"))==null||o.click()},ee=o=>{var U;const r=(U=o.target.files)==null?void 0:U[0];if(!r)return;if(!r.type.startsWith("image/")){b("Please select a valid image file","error");return}if(r.size>5*1024*1024){b("File size must be less than 5MB","error");return}const v=URL.createObjectURL(r);l.avatar=v,b(s("profile.avatar_updated"),"success")},te=()=>{l.avatar="",b(s("profile.avatar_removed"),"success")},se=o=>!o||o.includes("ui-avatars.com"),re=async()=>{if(V.value){q.value=!0;try{const o=await E("/profile",{password:V.value});if(o.success)b("帳號刪除成功","success"),await D.logout();else throw new Error(o.message||"帳號刪除失敗")}catch(o){console.error("Account deletion failed:",o),o.message.includes("password")||o.message.includes("incorrect")?b("密碼不正確","error"):b(o.message||"帳號刪除失敗","error")}finally{q.value=!1,P.value=!1}}},L=o=>o?new Date(o).toLocaleDateString():"N/A",b=(o,r="success")=>{d.value={text:o,type:r},setTimeout(()=>{d.value=null},5e3)},y=o=>{const r="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 dark:bg-gray-700 dark:text-white transition-colors duration-200";return o?`${r} border-red-300 dark:border-red-600 focus:border-red-500 focus:ring-red-500`:`${r} border-gray-300 dark:border-gray-600 focus:border-primary-500 focus:ring-primary-500`},oe=o=>{const r="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 dark:bg-gray-700 dark:text-white transition-colors duration-200 resize-vertical";return o?`${r} border-red-300 dark:border-red-600 focus:border-red-500 focus:ring-red-500`:`${r} border-gray-300 dark:border-gray-600 focus:border-primary-500 focus:ring-primary-500`};return ie(()=>{C()}),de(p,()=>{C()},{deep:!0}),ce({title:ue(()=>s("profile.title"))}),(o,r)=>{var v,U,R,I,S,Z,N;return c(),u("div",_e,[t("div",null,[t("h1",xe,a(e(s)("profile.title")),1),t("p",be,a(e(s)("profile.subtitle")),1)]),t("div",ye,[t("div",ve,[t("div",ke,[t("div",Pe,[t("div",Ce,[t("img",{src:e(l).avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e(l).name||"User")}&background=6366f1&color=fff`,alt:e(l).name||"User Avatar",class:"w-24 h-24 rounded-full mx-auto mb-4 object-cover border-4 border-white dark:border-gray-700 shadow-lg"},null,8,Ue),t("label",Ae,[z(e(H),{class:"w-4 h-4"}),t("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:ee,class:"hidden"},null,32)])]),t("h3",Ve,a(e(l).name||"User"),1),t("p",je,"@"+a(e(l).username),1),t("div",$e,[t("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":((v=e(p))==null?void 0:v.status)==="active","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":((U=e(p))==null?void 0:U.status)==="inactive"}])},a(((R=e(p))==null?void 0:R.status)==="active"?e(s)("profile.active"):e(s)("profile.inactive")),3)])]),t("div",qe,[t("button",{onClick:Y,class:"w-full px-4 py-2 text-sm font-medium text-primary-600 bg-primary-50 hover:bg-primary-100 dark:bg-primary-900 dark:text-primary-200 rounded-lg transition-colors duration-200"},[z(e(H),{class:"w-4 h-4 inline mr-2"}),k(" "+a(e(s)("profile.change_avatar")),1)]),e(l).avatar&&!se(e(l).avatar)?(c(),u("button",{key:0,onClick:te,class:"w-full px-4 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900 dark:text-red-200 rounded-lg transition-colors duration-200"},[z(e(ge),{class:"w-4 h-4 inline mr-2"}),k(" "+a(e(s)("profile.remove_avatar")),1)])):f("",!0)]),t("div",ze,[t("h4",De,a(e(s)("profile.account_info")),1),t("div",Me,[t("div",Be,[t("span",Ee,a(e(s)("profile.role")),1),t("span",Te,a(((I=e(p))==null?void 0:I.role)==="admin"?e(s)("auth.role_admin"):e(s)("auth.role_user")),1)]),t("div",Le,[t("span",Re,a(e(s)("profile.member_since")),1),t("span",Ie,a(L((S=e(p))==null?void 0:S.createdAt)),1)]),t("div",Se,[t("span",Ze,a(e(s)("profile.last_login")),1),t("span",Ne,a(L((Z=e(p))==null?void 0:Z.lastLogin)),1)])])])])]),t("div",Oe,[t("div",Fe,[t("div",He,[t("h3",We,a(e(s)("profile.personal_info")),1)]),t("form",{onSubmit:T(Q,["prevent"]),class:"p-6 space-y-6"},[t("div",Ge,[t("div",null,[t("label",Je,[k(a(e(s)("profile.name"))+" ",1),r[17]||(r[17]=t("span",{class:"text-red-500"},"*",-1))]),w(t("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=i=>e(l).name=i),type:"text",required:"",class:g(y(e(n).name)),placeholder:e(s)("profile.name_placeholder")},null,10,Ke),[[_,e(l).name]]),e(n).name?(c(),u("p",Qe,a(e(n).name),1)):f("",!0)]),t("div",null,[t("label",Xe,[k(a(e(s)("profile.username"))+" ",1),r[18]||(r[18]=t("span",{class:"text-red-500"},"*",-1))]),w(t("input",{id:"username","onUpdate:modelValue":r[1]||(r[1]=i=>e(l).username=i),type:"text",required:"",class:g(y(e(n).username)),placeholder:e(s)("profile.username_placeholder")},null,10,Ye),[[_,e(l).username]]),e(n).username?(c(),u("p",et,a(e(n).username),1)):f("",!0)]),t("div",null,[t("label",tt,[k(a(e(s)("profile.email"))+" ",1),r[19]||(r[19]=t("span",{class:"text-red-500"},"*",-1))]),t("div",st,[w(t("input",{id:"email","onUpdate:modelValue":r[2]||(r[2]=i=>e(l).email=i),type:"email",required:"",class:g(y(e(n).email)),placeholder:e(s)("profile.email_placeholder")},null,10,rt),[[_,e(l).email]]),t("div",ot,[(N=e(p))!=null&&N.emailVerified?(c(),F(e(he),{key:0,class:"w-5 h-5 text-green-500",title:e(s)("profile.email_verified")},null,8,["title"])):(c(),F(e(me),{key:1,class:"w-5 h-5 text-yellow-500",title:e(s)("profile.email_unverified")},null,8,["title"]))])]),e(n).email?(c(),u("p",at,a(e(n).email),1)):f("",!0)]),t("div",null,[t("label",lt,a(e(s)("profile.phone")),1),w(t("input",{id:"phone","onUpdate:modelValue":r[3]||(r[3]=i=>e(l).phone=i),type:"tel",class:g(y(e(n).phone)),placeholder:e(s)("profile.phone_placeholder")},null,10,nt),[[_,e(l).phone]]),e(n).phone?(c(),u("p",it,a(e(n).phone),1)):f("",!0)]),t("div",null,[t("label",dt,a(e(s)("profile.company")),1),w(t("input",{id:"company","onUpdate:modelValue":r[4]||(r[4]=i=>e(l).company=i),type:"text",class:g(y(e(n).company)),placeholder:e(s)("profile.company_placeholder")},null,10,ct),[[_,e(l).company]]),e(n).company?(c(),u("p",ut,a(e(n).company),1)):f("",!0)]),t("div",null,[t("label",pt,a(e(s)("profile.position")),1),w(t("input",{id:"position","onUpdate:modelValue":r[5]||(r[5]=i=>e(l).position=i),type:"text",class:g(y(e(n).position)),placeholder:e(s)("profile.position_placeholder")},null,10,mt),[[_,e(l).position]]),e(n).position?(c(),u("p",ft,a(e(n).position),1)):f("",!0)]),t("div",null,[t("label",gt,a(e(s)("profile.location")),1),w(t("input",{id:"location","onUpdate:modelValue":r[6]||(r[6]=i=>e(l).location=i),type:"text",class:g(y(e(n).location)),placeholder:e(s)("profile.location_placeholder")},null,10,ht),[[_,e(l).location]]),e(n).location?(c(),u("p",wt,a(e(n).location),1)):f("",!0)]),t("div",null,[t("label",_t,a(e(s)("profile.website")),1),w(t("input",{id:"website","onUpdate:modelValue":r[7]||(r[7]=i=>e(l).website=i),type:"url",class:g(y(e(n).website)),placeholder:e(s)("profile.website_placeholder")},null,10,xt),[[_,e(l).website]]),e(n).website?(c(),u("p",bt,a(e(n).website),1)):f("",!0)])]),t("div",null,[t("label",yt,a(e(s)("profile.bio")),1),w(t("textarea",{id:"bio","onUpdate:modelValue":r[8]||(r[8]=i=>e(l).bio=i),rows:"4",class:g(oe(e(n).bio)),placeholder:e(s)("profile.bio_placeholder")},null,10,vt),[[_,e(l).bio]]),e(n).bio?(c(),u("p",kt,a(e(n).bio),1)):f("",!0)]),t("div",Pt,[t("button",{type:"submit",disabled:e(j),class:"px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium rounded-lg transition-colors duration-200"},[e(j)?(c(),u("span",Ut,a(e(s)("common.loading")),1)):(c(),u("span",At,a(e(s)("profile.update_profile")),1))],8,Ct)])],32)]),t("div",Vt,[t("div",jt,[t("h3",$t,a(e(s)("profile.security")),1)]),t("form",{onSubmit:T(X,["prevent"]),class:"p-6 space-y-6"},[t("div",null,[t("label",qt,[k(a(e(s)("profile.current_password"))+" ",1),r[20]||(r[20]=t("span",{class:"text-red-500"},"*",-1))]),w(t("input",{id:"current-password","onUpdate:modelValue":r[9]||(r[9]=i=>e(m).currentPassword=i),type:"password",required:"",class:g(y(e(h).currentPassword)),placeholder:e(s)("profile.current_password_placeholder")},null,10,zt),[[_,e(m).currentPassword]]),e(h).currentPassword?(c(),u("p",Dt,a(e(h).currentPassword),1)):f("",!0)]),t("div",Mt,[t("div",null,[t("label",Bt,[k(a(e(s)("profile.new_password"))+" ",1),r[21]||(r[21]=t("span",{class:"text-red-500"},"*",-1))]),w(t("input",{id:"new-password","onUpdate:modelValue":r[10]||(r[10]=i=>e(m).newPassword=i),type:"password",required:"",class:g(y(e(h).newPassword)),placeholder:e(s)("profile.new_password_placeholder")},null,10,Et),[[_,e(m).newPassword]]),e(h).newPassword?(c(),u("p",Tt,a(e(h).newPassword),1)):f("",!0)]),t("div",null,[t("label",Lt,[k(a(e(s)("profile.confirm_new_password"))+" ",1),r[22]||(r[22]=t("span",{class:"text-red-500"},"*",-1))]),w(t("input",{id:"confirm-password","onUpdate:modelValue":r[11]||(r[11]=i=>e(m).confirmPassword=i),type:"password",required:"",class:g(y(e(h).confirmPassword)),placeholder:e(s)("profile.confirm_new_password_placeholder")},null,10,Rt),[[_,e(m).confirmPassword]]),e(h).confirmPassword?(c(),u("p",It,a(e(h).confirmPassword),1)):f("",!0)])]),t("div",St,[t("p",Zt,[z(e(fe),{class:"w-4 h-4 inline mr-1"}),k(" "+a(e(s)("profile.password_requirements")),1)])]),t("div",Nt,[t("button",{type:"submit",disabled:e($),class:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium rounded-lg transition-colors duration-200"},[e($)?(c(),u("span",Ft,a(e(s)("common.loading")),1)):(c(),u("span",Ht,a(e(s)("profile.change_password")),1))],8,Ot)])],32)]),t("div",Wt,[t("div",Gt,[t("h3",Jt,a(e(s)("profile.danger_zone")),1)]),t("div",Kt,[t("div",Qt,[t("div",Xt,[z(e(W),{class:"w-8 h-8 text-red-500"})]),t("div",Yt,[t("h4",es,a(e(s)("profile.delete_account")),1),t("p",ts,a(e(s)("profile.delete_account_warning")),1),t("button",{onClick:r[12]||(r[12]=i=>P.value=!0),class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200"},a(e(s)("profile.delete_account")),1)])])])])])]),e(P)?(c(),u("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r[16]||(r[16]=i=>P.value=!1)},[t("div",{class:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",onClick:r[15]||(r[15]=T(()=>{},["stop"]))},[t("div",ss,[z(e(W),{class:"w-6 h-6 text-red-500 mr-3"}),t("h3",rs,a(e(s)("profile.confirm_delete")),1)]),t("p",os,a(e(s)("profile.delete_confirmation")),1),w(t("input",{"onUpdate:modelValue":r[13]||(r[13]=i=>pe(V)?V.value=i:null),type:"password",placeholder:e(s)("profile.current_password_placeholder"),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg mb-4 dark:bg-gray-700 dark:text-white"},null,8,as),[[_,e(V)]]),t("div",ls,[t("button",{onClick:r[14]||(r[14]=i=>P.value=!1),class:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600"},a(e(s)("common.cancel")),1),t("button",{onClick:re,disabled:!e(V)||e(q),class:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg"},a(e(q)?e(s)("common.loading"):e(s)("common.delete")),9,ns)])])])):f("",!0),e(d)?(c(),u("div",{key:1,class:g(["fixed bottom-4 right-4 z-50 p-4 rounded-lg shadow-lg",e(d).type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"])},a(e(d).text),3)):f("",!0)])}}};export{us as default};
